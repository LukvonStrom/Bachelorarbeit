%%% Präambel %%%
% hier sollten keine Änderungen erforderlich sein
%
\usepackage[utf8]{inputenc}   % Zeichencodierung UTF-8 für Eingabe-Dateien
\usepackage[T1]{fontenc}      % Darstellung von Umlauten im PDF

\usepackage{listings}         % für Einbindung von Code-Listings
\lstset{numbers=left,numberstyle=\tiny,numbersep=5pt,texcl=true}
\lstset{literate=             % erlaubt Sonderzeichen in Code-Listings 
{Ö}{{\"O}}1
{Ä}{{\"A}}1
{Ü}{{\"U}}1
{ß}{{\ss}}2
{ü}{{\"u}}1
{ä}{{\"a}}1
{ö}{{\"o}}1
{€}{{\euro}}1
}

\usepackage[
  inner=35mm,outer=15mm,top=25mm,
  bottom=20mm,foot=12mm,includefoot
]{geometry}                 % Einstellungen für Ränder

\usepackage{float}

\usepackage[ngerman]{babel} % Spracheinstellungen Deutsch
\usepackage[babel,german=quotes]{csquotes} % deutsche Anf.zeichen
\usepackage{enumerate}      % anpassbare Nummerier./Aufz.
\usepackage{graphicx}       % Einbinden von Grafiken
\usepackage[onehalfspacing]{setspace} % anderthalbzeilig

\usepackage{blindtext}      % Textgenerierung für Testzwecke
\usepackage{color}          % Verwendung von Farbe 

\usepackage{acronym}        % für ein Abkürzungsverzeichnis

\usepackage{lscape}

\usepackage[                % Biblatex
  backend=biber,
  bibstyle=_dhbw_authoryear,maxbibnames=99,
  citestyle=authoryear,     
  uniquename=true, useprefix=true,
  bibencoding=utf8, giveninits=true]{biblatex}
\input{template/_dhbw_biblatex-config.tex} % mit DHBW-spezifischen Einstellungen



\usepackage[hidelinks]{hyperref}       % URL-Formatierung, klickbare Verweise

\usepackage[plain]{algorithm}
\usepackage{algorithmic}

\usepackage{tocloft}        % für Verzeichnis der Anhänge

\newcounter{anhcnt}
\setcounter{anhcnt}{0}
\newlistof{anhang}{app}{}

\newcommand{\anhang}[1]{%
  \refstepcounter{anhcnt}
  \setcounter{anhteilcnt}{0}
  \section*{Anhang \theanhcnt: #1}
  \addcontentsline{app}{section}{\protect\numberline{Anhang \theanhcnt}#1}\par
}

\newcounter{anhteilcnt}
\setcounter{anhteilcnt}{0}

\newcommand{\anhangteil}[1]{%
	\refstepcounter{anhteilcnt}
	\subsection*{Anhang~\arabic{anhcnt}/\arabic{anhteilcnt}: #1}
	\addcontentsline{app}{subsection}{\protect\numberline{Anhang \theanhcnt/\arabic{anhteilcnt}}#1}\par
}

\renewcommand{\theanhteilcnt}{Anhang \theanhcnt/\arabic{anhteilcnt}}

% vgl. S. 4 Paket-Beschreibung tocloft 	
% Einrückungen für Anhangverzeichnis
\makeatletter
\newcommand{\abstaendeanhangverzeichnis}{
\renewcommand*{\l@section}{\@dottedtocline{1}{0em}{5.5em}}
\renewcommand*{\l@subsection}{\@dottedtocline{2}{2.3em}{6.5em}}
}
\makeatother

% Abbildungs- und Tabellenverzeichnis
% Bezeichnungen
\renewcaptionname{ngerman}{\figurename}{Abb.}
\renewcaptionname{ngerman}{\tablename}{Tab.}
\makeatletter
\renewcommand*{\ALG@name}{Alg.}
\makeatother
% Einrückungen
\makeatletter
\renewcommand*{\l@figure}{\@dottedtocline{1}{0em}{2.3em}}
\renewcommand*{\l@table}{\@dottedtocline{1}{0em}{2.3em}}
\makeatother

\usepackage{tabularx}

\usepackage{chngcntr}                % fortlaufende Zähler für Fußnoten, Abbildungen und Tabellen
\counterwithout{figure}{chapter}
\counterwithout{table}{chapter}
\counterwithout{footnote}{chapter}

\usepackage[automark]{scrlayer-scrpage} 
\input{template/_dhbw_kopfzeilen.tex}		 % für schöne Kopfzeilen 

\usepackage{textcomp}            % erlaubt EUR-Zeichen in Eingabedatei
\usepackage{eurosym}             % offizielles EUR-Symbol in Ausgabe
\renewcommand{\texteuro}{\euro}  % ACHTUNG: nach hyperref aufrufen!

\usepackage{scrhack}             % stellt Kompatibilität zw. KOMA-Script
                                 % (scrreprt) und anderen Paketen her
                        
\usepackage{todo}
\usepackage{enumitem}

\usepackage[table,xcdraw]{xcolor}
\usepackage{pgfplots}
\usepackage{rotating}
\usepackage{listofitems}


% \usepackage[expansion, final]{microtype}
                                 
% Anpassung der Abstände bei Kapitelüberschriften
% (betrifft auch Inhalts-, Abbildungs- und Tabellenverzeichnis)
\renewcommand*\chapterheadstartvskip{\vspace*{-\topskip}}
\newcommand{\myBeforeTitleSkip}{1mm}
\newcommand{\myAfterTitleSkip}{10mm}
\setlength\cftbeforetoctitleskip{\myBeforeTitleSkip}
\setlength\cftbeforeloftitleskip{\myBeforeTitleSkip}
\setlength\cftbeforelottitleskip{\myBeforeTitleSkip}

\setlength\cftaftertoctitleskip{\myAfterTitleSkip}
\setlength\cftafterloftitleskip{\myAfterTitleSkip}
\setlength\cftafterlottitleskip{\myAfterTitleSkip}                                                            
%%% Ende der Präambel %%%

%% Based on the Diagram by romeovs - https://tex.stackexchange.com/a/10064

\def\n{3}   %define how much axes you want
\def\N{5}   %define the number of node on each axis
\usetikzlibrary{positioning,arrows}
\pgfplotsset{compat=1.17}

\newcommand{\spider}[3]{
    \begin{tikzpicture}[scale=0.75]
        \foreach \x in{0,1,...,\n}{%
            \draw[->] (0,0)--(360/\n*\x:\N+0.5);
            \foreach \y in{0,1,...,\N}{
                \draw[thin,lightgray](360/\n*\x:\y)--(360/\n*\x+360/\n:\y);
                \draw[fill] (360/\n*\x:\y) circle(1pt);
                \ifnum\x=1
                    
                %     % \ifnum\y>0
                %         \draw(360/\n*\x:\y)node[below]{\y};
                %     % \else 
                %         % \draw(360/\n*\x:\y)node[above right]{\y};
                %     % \fi
                % \else
                    \draw(360/\n*\x:\y)node[above right]{\y};
                \fi
                }

        }

        \draw(360/\n:\N+0.5)node[above]{Dekompositionstiefe};     %adjust the labels (also add or delete exces axes)
        \draw(2*360/\n:\N+0.5)node[below]{Allgemeingültigkeit};   %eg. if you have 6 axes, delete the last 2
        \draw(3*360/\n:\N+0.5)node[above=0.5cm]{Anwendbarkeit};        %or if you have 9 axes add one
        \draw[ultra thick,draw=blue](360/\n:#1)--(360/\n*2:#2)--(360/\n*3:#3)--cycle;
    \end{tikzpicture}
}

\newcommand{\spideroverview}[9]{
    \begin{tikzpicture}[]
        \foreach \x in{0,1,...,\n}{%
            \draw[->] (0,0)--(360/\n*\x:\N+0.5);
            \foreach \y in{0,1,...,\N}{
                \draw[thin,lightgray](360/\n*\x:\y)--(360/\n*\x+360/\n:\y);
                \draw[fill] (360/\n*\x:\y) circle(1pt);
                \ifnum\x=1
                    \draw(360/\n*\x:\y)node[above right]{\y};
                \fi
                }

        }

        \draw(360/\n:\N+0.5)node[above]{Dekompositionstiefe};
        \draw(2*360/\n:\N+0.5)node[below]{Allgemeingültigkeit};   
        \draw(3*360/\n:\N+0.5)node[above=0.5cm]{Anwendbarkeit};        
        
        \draw[ultra thick,draw=red](360/\n:#1)--(360/\n*2:#2)--(360/\n*3:#3)--cycle;
        \draw[ultra thick,draw=blue](360/\n:#4)--(360/\n*2:#5)--(360/\n*3:#6)--cycle;
        \draw[ultra thick,draw=cyan](360/\n:#7)--(360/\n*2:#8)--(360/\n*3:#9)--cycle;
        \node[draw=black,thick,rounded corners=2pt,below=5.5cm] {%
        \begin{tabular}{p{5.05mm}l|p{5.05mm}c|p{5.05mm}p{14.5mm}}
         \raisebox{2pt}{\tikz{\draw[ultra thick,draw=red] (0,0) -- (5mm,0);}} & Philip A. &
         \raisebox{2pt}{\tikz{\draw[ultra thick,draw=blue] (0,0) -- (5mm,0);}} &Ralph B. &
         \raisebox{2pt}{\tikz{\draw[ultra thick,draw=cyan] (0,0) -- (5mm,0);}}&Peter E.\\
        \end{tabular}};
    \end{tikzpicture}
}